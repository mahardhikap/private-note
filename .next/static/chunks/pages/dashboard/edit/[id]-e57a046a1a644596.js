(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[576],{5838:function(e,l,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/edit/[id]",function(){return a(4142)}])},4142:function(e,l,a){"use strict";a.r(l);var t=a(5893),i=a(7294),r=a(7838),s=a(2870),n=a(2947),d=a(5675),o=a.n(d),c=a(6713),u=a(4207),m=a(1163),h=a(5152),f=a.n(h);a(8645);var g=a(9411);let v=f()(()=>Promise.all([a.e(937),a.e(167)]).then(a.t.bind(a,1167,23)),{loadableGenerated:{webpack:()=>[1167]},ssr:!1});l.default=()=>{let e=(0,m.useRouter)(),[l,a]=(0,i.useState)({image:"",title:"",article:""}),[d,h]=(0,i.useState)([]),{id:f}=e.query,b=async()=>{try{var e,t,i;let r=await (0,c.Uw)(f);a({...l,image:null==r?void 0:null===(e=r.data)||void 0===e?void 0:e.image,title:null==r?void 0:null===(t=r.data)||void 0===t?void 0:t.title,article:null==r?void 0:null===(i=r.data)||void 0===i?void 0:i.article})}catch(e){n.Am.error(e.message)}},p=async()=>{let t=[];try{if(d.length>0){let e=await (0,s.I)(d);e&&(t=e.filePaths,a(e=>({...e,image:t[0]})))}let i=await (0,c.OD)(f,{...l,image:t[0]});if((null==i?void 0:i.code)===200)n.Am.success(null==i?void 0:i.message),e.replace("/dashboard");else{n.Am.warning(null==i?void 0:i.message);let e=t.map(u.Q).filter(e=>null!==e);await (0,s.c)(e)}}catch(e){if(n.Am.error(null==e?void 0:e.message),t.length>0){let e=t.map(u.Q).filter(e=>null!==e);await (0,s.c)(e)}}};return(0,i.useEffect)(()=>{b()},[f]),(0,t.jsxs)(r.Z,{children:[(0,t.jsx)("button",{onClick:()=>e.back(),className:"mb-4",children:"← kembali ke halaman"}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("input",{type:"file",onChange:e=>{h(Array.from(e.target.files||[]))},className:"hidden",id:"fileUpload",accept:"image/jpeg, image/png"}),(0,t.jsx)("label",{htmlFor:"fileUpload",className:"aspect-video bg-gray-400 rounded-xl flex justify-center items-center overflow-hidden",children:d.length>0?(0,t.jsx)(o(),{src:URL.createObjectURL(d[0]),alt:d[0].name,className:"object-cover h-full w-full rounded-xl",width:700,height:700}):l.image?(0,t.jsx)(o(),{src:l.image,alt:"Article Image",className:"object-cover h-full w-full rounded-xl",width:700,height:700}):(0,t.jsx)("p",{className:"text-xl text-gray-100",children:"Upload Gambar"})}),(0,t.jsx)("div",{children:"Judul Post"}),(0,t.jsx)("input",{name:"title",type:"text",className:"p-3 border-2 border-black rounded",placeholder:"Isi judul post",value:null==l?void 0:l.title,onChange:e=>{let{name:l,value:t}=e.target;a(e=>({...e,[l]:t}))},autoComplete:"off"}),(0,t.jsx)("div",{children:"Artikel Post"}),(0,t.jsx)(v,{value:null==l?void 0:l.article,onChange:e=>a({...l,article:e}),className:"border-2 border-black h-96 overflow-y-auto rounded",modules:g.U,formats:g.h}),(0,t.jsx)("button",{className:"bg-gray-400 text-gray-100 p-3 rounded font-semibold",onClick:p,children:"SUBMIT"})]})]})}}},function(e){e.O(0,[166,143,664,675,762,479,774,888,179],function(){return e(e.s=5838)}),_N_E=e.O()}]);