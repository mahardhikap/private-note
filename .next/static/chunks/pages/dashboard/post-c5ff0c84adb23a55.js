(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[477],{608:function(e,l,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/post",function(){return t(6882)}])},6882:function(e,l,t){"use strict";t.r(l);var a=t(5893),r=t(7294),s=t(7838),i=t(2870),n=t(2947),o=t(5675),d=t.n(o),c=t(6713),u=t(4207),h=t(1163),m=t(5152),f=t.n(m);t(8645);var g=t(9411);let p=f()(()=>Promise.all([t.e(937),t.e(167)]).then(t.t.bind(t,1167,23)),{loadableGenerated:{webpack:()=>[1167]},ssr:!1});l.default=()=>{let e=(0,h.useRouter)(),[l,t]=(0,r.useState)({image:"",title:"",article:""}),[o,m]=(0,r.useState)([]),f=async()=>{let a=[];try{if(o.length>0){let e=await (0,i.I)(o);e&&(a=e.filePaths,t(e=>({...e,image:a[0]})))}let r=await (0,c.tu)({...l,image:a[0]});if((null==r?void 0:r.code)===201)n.Am.success(null==r?void 0:r.message),e.replace("/dashboard");else{n.Am.warning(null==r?void 0:r.message);let e=a.map(u.Q).filter(e=>null!==e);await (0,i.c)(e)}}catch(e){if(n.Am.error(null==e?void 0:e.message),a.length>0){let e=a.map(u.Q).filter(e=>null!==e);await (0,i.c)(e)}}};return(0,a.jsx)(s.Z,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("input",{type:"file",onChange:e=>{m(Array.from(e.target.files||[]))},className:"hidden",id:"fileUpload",accept:"image/jpeg, image/png"}),(0,a.jsx)("label",{htmlFor:"fileUpload",className:"aspect-video bg-gray-400 rounded-xl flex justify-center items-center overflow-hidden",children:o.length>0?(0,a.jsx)(d(),{src:URL.createObjectURL(o[0]),alt:o[0].name,className:"object-cover h-full w-full rounded-xl",width:700,height:700}):(0,a.jsx)("p",{className:"text-xl text-gray-100",children:"Upload Gambar"})}),(0,a.jsx)("div",{children:"Judul Post"}),(0,a.jsx)("input",{name:"title",type:"text",className:"p-3 border-2 border-black rounded",placeholder:"Isi judul post",value:l.title,onChange:e=>{let{name:l,value:a}=e.target;t(e=>({...e,[l]:a}))},autoComplete:"off"}),(0,a.jsx)("div",{children:"Artikel Post"}),(0,a.jsx)(p,{value:l.article,onChange:e=>t({...l,article:e}),className:"border-2 border-black h-96 overflow-y-auto rounded",modules:g.U,formats:g.h}),(0,a.jsx)("button",{className:"bg-gray-400 text-gray-100 p-3 rounded font-semibold",onClick:f,children:"SUBMIT"})]})})}}},function(e){e.O(0,[166,143,664,675,762,479,774,888,179],function(){return e(e.s=608)}),_N_E=e.O()}]);