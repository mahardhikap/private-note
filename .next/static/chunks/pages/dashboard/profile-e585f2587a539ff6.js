(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[389],{603:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/profile",function(){return a(4071)}])},409:function(e,t,a){"use strict";a.d(t,{Nq:function(){return s},ll:function(){return l},pH:function(){return o}});var n=a(7196),r=a(2947);let o=async e=>{try{return(await n.x.post("/user/login",e)).data}catch(e){r.Am.error(e.message)}},l=async()=>{try{let e=localStorage.getItem("token");return e&&(n.x.defaults.headers.common.Authorization="Bearer ".concat(e)),(await n.x.get("/user/detail")).data}catch(e){console.error(e.message)}},s=async(e,t)=>{try{let a=localStorage.getItem("token");return a&&(n.x.defaults.headers.common.Authorization="Bearer ".concat(a)),(await n.x.put("/user/".concat(e,"/update"),t)).data}catch(e){r.Am.error(e.message)}}},7838:function(e,t,a){"use strict";a.d(t,{Z:function(){return h}});var n,r=a(5893),o=a(7294),l=a(1163),s=a(9672),c=a(1664),i=a.n(c),u=a(409),d=a(6455),m=a.n(d),h=(n=e=>{let{children:t}=e,a=(0,l.useRouter)(),n=a.pathname,o=()=>{m().fire({title:"Buru-buru amat?\uD83E\uDD28",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dd3333",cancelButtonColor:"#a5dc86",confirmButtonText:"Gas cabut",cancelButtonText:"Masih betah"}).then(e=>{e.isConfirmed&&m().fire({title:"Jangan lupa mampir lagi!\uD83D\uDE01",icon:"success",showConfirmButton:!1,timer:1500}).then(()=>{localStorage.clear(),a.replace("/login")})})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"text-center py-5 bg-white text-lg sticky top-0 z-10",children:[(0,r.jsx)("strong",{children:"Random"})," Admin Dashboard\uD83D\uDCBB"]}),(0,r.jsx)("div",{className:"mx-auto container p-3",children:(0,r.jsxs)("div",{className:"grid grid-cols-5 min-h-screen",children:[(0,r.jsx)("div",{className:"col-span-1 sticky top-20 h-fit",children:(0,r.jsx)("ul",{className:"flex flex-col gap-5",children:null===s.P||void 0===s.P?void 0:s.P.map((e,t)=>"logout"===e.action?(0,r.jsx)("li",{onClick:o,className:"cursor-pointer",children:(0,r.jsx)("span",{children:e.label})},t):(0,r.jsx)(i(),{href:e.url,children:(0,r.jsx)("li",{children:(0,r.jsx)("span",{className:"".concat(e.url===n?"border-b-2 border-black":""),children:e.label})})},t))})}),(0,r.jsx)("div",{className:"col-span-4",children:t})]})}),(0,r.jsx)("div",{className:"text-center my-5 font-semibold",children:"\xa92025 Random. All rights reserved."})]})},e=>{let t=(0,l.useRouter)();return(0,o.useEffect)(()=>{(async()=>{try{let e=await (0,u.ll)();(null==e?void 0:e.code)!==200&&t.push("/login")}catch(e){console.error(e.message),t.push("/login")}})()},[t]),(0,r.jsx)(n,{...e})})},9672:function(e,t,a){"use strict";a.d(t,{P:function(){return r},c:function(){return n}});let n=[{url:"/",label:"Tulisan"},{url:"/login",label:"Login"}],r=[{url:"/dashboard",label:"Articles"},{url:"/dashboard/post",label:"Post"},{url:"/dashboard/profile",label:"Profile"},{url:"#",label:"Logout",action:"logout"}]},4071:function(e,t,a){"use strict";a.r(t);var n=a(5893),r=a(7838),o=a(7294),l=a(409),s=a(2947),c=a(1163),i=a(6455),u=a.n(i);t.default=()=>{let e=(0,c.useRouter)(),[t,a]=(0,o.useState)({username:"",password:""}),[i,d]=(0,o.useState)(),m=async()=>{try{var e;let n=await (0,l.ll)();a({...t,username:null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.username}),d(n)}catch(e){s.Am.error(e.message)}},h=async()=>{u().fire({title:"Mau ganti kredensial login kamu, yakin?\uD83E\uDD14",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dd3333",cancelButtonColor:"#a5dc86",confirmButtonText:"Gas ganti",cancelButtonText:"Gak jadi"}).then(a=>{a.isConfirmed&&u().fire({title:"Diupdate!\uD83D\uDC4C",icon:"success",showConfirmButton:!1,timer:1500}).then(async()=>{try{var a;let n=await (0,l.Nq)(null==i?void 0:null===(a=i.data)||void 0===a?void 0:a.id,t);(null==n?void 0:n.code)===200?(localStorage.clear(),e.replace("/login")):s.Am.error(null==n?void 0:n.message)}catch(e){s.Am.error(e.message)}})})},f=e=>{let{name:t,value:n}=e.target;a(e=>({...e,[t]:n}))};return(0,o.useEffect)(()=>{m()},[]),(0,n.jsx)(r.Z,{children:(0,n.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,n.jsx)("input",{type:"text",className:"p-3 border-2 border-black rounded w-full",placeholder:"Nama Pengguna",name:"username",value:null==t?void 0:t.username,onChange:f,autoComplete:"off"}),(0,n.jsx)("input",{type:"text",className:"p-3 border-2 border-black rounded w-full",placeholder:"Kata Sandi",name:"password",value:null==t?void 0:t.password,onChange:f,autoComplete:"off"}),(0,n.jsx)("button",{className:"p-3 rounded bg-gray-400 text-gray-100 w-full font-semibold",onClick:h,children:"SAVE"})]})})}},7196:function(e,t,a){"use strict";a.d(t,{x:function(){return r},z:function(){return o}});var n=a(7066);let r=n.Z.create({baseURL:"http://localhost:3001",timeout:1e4,headers:{"Content-Type":"application/json"}}),o=n.Z.create({baseURL:"https://image.codefreaks.web.id",timeout:1e4,headers:{"Content-Type":"application/json"}})}},function(e){e.O(0,[166,143,664,774,888,179],function(){return e(e.s=603)}),_N_E=e.O()}]);